# Парсер сайта [домклика](https://ekaterinburg.domclick.ru/?utm_referrer=https%3A%2F%2Fwww.yandex.ru%2Fclck%2Fjsredir%3Ffrom%3Dyandex.ru%3Bsuggest%3Bbrowser%26text%3D)

## Введение
Эта мини прога предназначена для парсинга сайта домклика.ру и получения с сайта списка квартир, их цен, цен за м2, площади, сроках строительства и кол-во комнат

Сразу хочеться сказать что прога была сделана наколенке за очень сжатые сроки и в лютых условиях (3 дня, за которые и надо было ее склепать, не было ни света, ни интернета и пришлось импровизировать в поисках 
условий, в которых хоть что-то можно было высрать), поэтому этот код лютый рассадник багов, но благо на момент сдачи проекта (10.04.22) все работает

Сам сайт домклика очень непростой и его фиг просто так вскроешь, поэотму пришлось идти на извращения (как по мне) и использовать selenium и имитируя работу кожаных мешков


## Стэк технологий:
1. Selenium. Для эмитации работы браузера (иначе он блочит парсер и ничего не пашет)
2. Epplus. Для работы с экселем

## Процесс работы

В начале парсер переходит по ЖК, которые мы ему и скормили, и формирует список квартир и ссылки на них

Потом парсер переходит по всем ссылкам на кватиры и берет из них данные

Потом он успешно закрывает браузер (если он доработал конечно) и оставляет открытую консоль (я пытался ее закрыть но не вышло, он просто ее незакрывает)

#Планы которые были, но уже не сильно надо 
## Заключение (на момент описания)
На данный момент парсер лежит на сервере и запускается вручную (дабы не привлекать лишнего внимания от домклика)

 - [x] Парсер работает и выгружает все необходимые данные
 - [ ] Формат данных идеален (онли ~~фанс~~ цифры)
 - [x] Парсер работает в ~~100%~~ 80% случаях (хз возможно ли 100% т.к. домклик все равно какие-то запросы отбрасывает)
 - [ ] Парсер защищен от всех случаных ошибок (50% работы) 
 - [x] Парсер перезагружаеться при неполной выгрузке данных в случае каких-то ошибок 

---

### Уже не так важно, но ооооочень хотелось бы  

 - [ ] Создаются папки под дату выгрузки и уже в нее загружаются данные выгрузки
 - [ ] Можно обраться к парсеру через сайт 
 - [ ] Можно получить данные выгрузки по дате через сайт а не просто лезть в папку 
